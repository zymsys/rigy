version: "0.2"
units: meters
coordinate_system:
  up: Y
  forward: -Z
  handedness: right
tessellation_profile: v0_1_default

imports:
  wheel:
    source: parts/wheel.rigy.yaml
    contract: parts/wheel.ricy.yaml

meshes:
  - id: car_body_mesh
    name: CarBody
    primitives:
      - type: box
        id: body
        dimensions: { x: 2.2, y: 0.4, z: 1.2 }
        transform:
          translation: [0.0, 0.45, 0.0]

      - type: box
        id: cabin
        dimensions: { x: 0.9, y: 0.35, z: 0.9 }
        transform:
          translation: [-0.3, 0.75, 0.0]

anchors:
  # Front-left
  - id: fl_a
    translation: [0.8, 0.25, 0.65]
  - id: fl_b
    translation: [1.8, 0.25, 0.65]
  - id: fl_c
    translation: [0.8, 1.25, 0.65]

  # Front-right
  - id: fr_a
    translation: [0.8, 0.25, -0.65]
  - id: fr_b
    translation: [1.8, 0.25, -0.65]
  - id: fr_c
    translation: [0.8, 1.25, -0.65]

  # Rear-left
  - id: rl_a
    translation: [-0.8, 0.25, 0.65]
  - id: rl_b
    translation: [0.2, 0.25, 0.65]
  - id: rl_c
    translation: [-0.8, 1.25, 0.65]

  # Rear-right
  - id: rr_a
    translation: [-0.8, 0.25, -0.65]
  - id: rr_b
    translation: [0.2, 0.25, -0.65]
  - id: rr_c
    translation: [-0.8, 1.25, -0.65]

instances:
  - id: wheel_fl
    import: wheel
    attach3:
      from: [wheel.mount_a, wheel.mount_b, wheel.mount_c]
      to: [fl_a, fl_b, fl_c]
      mode: rigid

  - id: wheel_fr
    import: wheel
    attach3:
      from: [wheel.mount_a, wheel.mount_b, wheel.mount_c]
      to: [fr_a, fr_b, fr_c]
      mode: rigid

  - id: wheel_rl
    import: wheel
    attach3:
      from: [wheel.mount_a, wheel.mount_b, wheel.mount_c]
      to: [rl_a, rl_b, rl_c]
      mode: rigid

  - id: wheel_rr
    import: wheel
    attach3:
      from: [wheel.mount_a, wheel.mount_b, wheel.mount_c]
      to: [rr_a, rr_b, rr_c]
      mode: rigid
